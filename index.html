<!-- HTML File auf der Root des Servers für Authentifizierung -->

<!-- START Magiclink Authentication -->

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPTIZER</title>
    <link rel="stylesheet" href="css/style.css" media="all" type="text/css">
    <link rel="stylesheet" href="https://use.typekit.net/bhl8svg.css">
    <script src="https://unpkg.com/@supabase/supabase-js@2"> </script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@1.29.0/dist/umd/supabase.min.js"></script>
</head>

<body class="body">
    <header>
        <div class="header-left">
            <div class="logo">
                <a href="/"><img src="icons/Logo_GPTIZER.svg" alt="logo" /></a>
            </div>
        </div>
        <div class="header-right">
            <div class="menu menu-wrapper">
                <div class="user-icon" id="user-icon">
                    <img src="icons/user.svg" alt="user menu" onclick="toggleMenu()" />
                </div>
                <ul class="main-menu" id="main-menu"style="display: none;">
                    <li>
                        <a href="./profile.html">Profile</a>
                    </li>
                    <li>
                        <a href="./search.html">Search</a>
                    </li>
                </ul>
            </div>                    
        </div>
    </header>
    <!-- was isch de mit däm hie los? Das wird mir ja garnid aazeigt. -->
    <h1 style="color:red" id="rootCheck">Checking location...</h1>
    <content class="content-frame">
        <div class="content">
            <form action="" class="form-base form-search"></form>
                <!--elements go here-->
                <!--elements go here-->
                <!--elements go here-->
                <h1>Magic Link Authentication</h1>
                <div class="form-group field-textarea content-textfield">
                    <label class="content-label" for="emailInput">email</label>
                    <input class="content-field" type="email" id="emailInput" placeholder="enter your email" required/>
                    <div class="content-label message-to-user" id="message"></div>
                    <button class="btn" id="sendMagicLinkButton">Sign-In / Sign-Up</button>
                    <button class="btn btn-light" id="logoutButton">Sign-Out</button>
                </div>
                <!-- Content Field with STATUS has to be Styled and given a class! -->
                <div>
                    <p class="message-to-user" id="userStatus">Checking authentication status...</p>
                </div>
                <div class="spacer-bottom">
                </div>
                <!--end of elements-->
                <!--end of elements-->
                <!--end of elements-->
            </form>
        </div>
    </content>
    <script src="js/menu.js"></script>
    <script src="js/dropdown-select.js"></script>
    <script type="module" src="connection/supabase.js"></script>
    <script type="module" src="js/magiclink.js"></script>
    <script>
 
        // script prüft, ob wir uns auf der root des servers befinden

        window.addEventListener('DOMContentLoaded', (event) => {
            const rootCheckElem = document.getElementById('rootCheck');
    
            if (window.location.pathname === "/" || window.location.pathname === "/index.html") {
                rootCheckElem.textContent = "You are on the root of the server.";
                rootCheckElem.style.display = "none"; // Hide it if you don't want any message on the root
            } else {
                rootCheckElem.innerHTML = 'Authentication funktioniert nur auf der Root des Servers! Das ist nicht hier, sondern <a href="/"> da </a>';
            }
        });
    </script>
</body>
</html>

<!-- ENDE Magiclink Authentication -->
<!-- ENDE Magiclink Authentication -->
<!-- ENDE Magiclink Authentication -->
<!-- ENDE Magiclink Authentication -->